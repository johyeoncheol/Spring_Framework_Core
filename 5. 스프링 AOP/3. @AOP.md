# 스프링 AOP
애노테이션 기반의 스프링 

## 의존성 추가
```
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-aop</artifactId>
</dependency>
```

## 애스팩트 정의
- @Aspect
- 빈으로 등록해야 하니까 (컴포넌트 스캔을 사용한다면) @Component도 추가.

# 포인트컷 정의
- @Pointcut(표현식)
- 주요 표현식
  + execution
  + @annotation
  + bean
- 포인트컷 조합
  + &&, ||, !

## 어드바이스 정의
- @Before
- @AfterReturning
- @AfterThrowing
- @Around

## Code
#### Aspect를 나타내는 클래스 생성
```
import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.springframework.stereotype.Component;

@Component
@Aspect
public class PerfAspect {

    @Around("execution(* me.gracenam..*.EventService.*(..))")
    public Object logPerf(ProceedingJoinPoint pjp) throws Throwable {
        long begin = System.currentTimeMillis();
        Object retVal = pjp.proceed();
        System.out.println(System.currentTimeMillis() - begin);
        return retVal;
    }

}
```
